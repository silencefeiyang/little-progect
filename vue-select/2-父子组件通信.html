<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/style.css">
    <script src="./js/vue.js"></script>
    <script sec="./js/index.js"></script>
</head>
<body>
    
    <div id="app">
        <custom-select btn-value="查找" style="float:left" :list="cityAdres"></custom-select>
        <custom-select btn-value="搜索" style="float:left" :list="product"></custom-select>  
        
    </div>
    <script>
        Vue.component("customSelect",{
            data:function(){
                return {
                    isShow:false,
                    val:""
                }
            },
            props:['btnValue','list'],
            template:`
                <section class="warp">
                    <div class="searchIpt clearFix">
                        <div class="clearFix">
                            <input type="text" class="keyWord"  :value="val" @click="isShow=!isShow" />
                            <input type="button" :value="btnValue">
                            <span></span>
                        </div>
                        <custom-list 
                        v-show="isShow" 
                        :child-list="list"
                        v-on:fatherListen="changeValue"
                        ></custom-list>    
                    </div>
                </section>
            `,
            methods:{
               changeValue(value){
                   this.val = value;
               }
            }
        })
        Vue.component("customList",{
            props:["childList"],
            template:`
                <ul class="list">
                        <li v-for="item in childList" v-text="item" @click="selecedValue(item)"></li>
                </ul>
            `,
            methods:{
                selecedValue(item){
                    //子组件中有交互    当子组件点击事件发生，要利用自定义事件通知父组件  
                    this.$emit("fatherListen",item)      //实例对象上有$emit这个方法
                }
            }
        })
        var vm = new Vue({
            el:"#app",
            data:{
                cityAdres:["北京","成都","三亚","西西里"],
                product:["烤鸭","火锅","水果","沙漠"]
            }
        })
    </script>
</body>
</html>